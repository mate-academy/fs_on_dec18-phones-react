(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),l=(n(27),n(35)),s=n(37),i=n(20),u=n(10),m=n.n(u),p=n(11),h=n(5),d=n(6),E=n(8),f=n(7),v=n(9),b="https://mate-academy.github.io/phone-catalogue-static",y=function(){var e=Object(p.a)(m.a.mark(function e(t){var n,a,r,c,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.orderBy,a=t.query,e.next=3,fetch("".concat(b,"/phones/phones.json"));case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,o=new RegExp(a,"i"),e.abrupt("return",c.filter(function(e){return o.test(e.name)}).sort(function(e,t){return e[n]>=t[n]?1:-1}));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),g=function(e){return fetch("".concat(b,"/phones/").concat(e,".json")).then(function(e){return e.json()})},O=n(19),j=r.a.createContext(),C=(j.Consumer,j.Provider,function(e){return function(t){return r.a.createElement(j.Consumer,null,function(n){return r.a.createElement(e,Object.assign({},t,{shoppingCart:n}))})}}),N=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(E.a)(this,Object(f.a)(t).call(this,e))).addItem=function(e){n.setState(function(t){var n=t.items;return{items:[].concat(Object(O.a)(n),[e])}})},n.removeItem=function(e){n.setState(function(t){return{items:t.items.filter(function(t){return t.id!==e.id})}})},n.state={items:[],addItem:n.addItem,removeItem:n.removeItem},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(j.Provider,{value:this.state},this.props.children)}}]),t}(r.a.Component),k="https://mate-academy.github.io/fs_on_dec18/public/",w=function(e){var t=e.phone,n=Object(a.useContext)(j);return r.a.createElement("div",{className:"PhoneDetailsPage"},r.a.createElement("img",{alt:t.name,className:"phone",src:k+t.images[0]}),r.a.createElement("button",{onClick:function(){return n.addItem(t)}},"Add to basket"),r.a.createElement("h1",null,t.name),r.a.createElement("p",null,t.description),r.a.createElement("ul",{className:"phone-thumbs"},t.images.map(function(e){return r.a.createElement("li",{key:e},r.a.createElement("img",{alt:t.name,src:k+e}))})))},B=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={phone:null},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.phoneId,e.next=3,g(t);case 3:n=e.sent,this.setState({phone:n});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.phone;this.props.addToShoppingCart;return e?r.a.createElement(w,{phone:e}):r.a.createElement("div",null,"Loading...")}}]),t}(r.a.Component),_=n(14),x=C(function(e){var t=e.phone,n=e.phoneUrl,a=e.shoppingCart;return r.a.createElement("li",{className:"thumbnail"},r.a.createElement("span",null,"### ",t.age),r.a.createElement(_.a,{className:"thumb",to:n},r.a.createElement("img",{width:"80px",alt:t.name,src:k+t.imageUrl})),r.a.createElement("div",{className:"phones__btn-buy-wrapper"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){return a.addItem(t)}},"Add")),r.a.createElement(_.a,{to:n},t.name),r.a.createElement("p",null,t.snippet))}),I=function(e){var t=e.phones,n=e.baseUrl;return 0===t.length?r.a.createElement("p",null,"No pones"):r.a.createElement("ul",{className:"phones"},t.map(function(e){return r.a.createElement(x,{key:e.id,phone:e,phoneUrl:"".concat(n,"/").concat(e.id)})}))},A=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,n=e.onQueryChanged,a=e.onOrderChanged,c=this.props,o=c.query,l=c.orderBy;return r.a.createElement("div",{className:"Filter"},r.a.createElement("input",{type:"text",value:o,onChange:function(e){n(e.target.value)}}),r.a.createElement("select",{name:"orderBy",value:l,onChange:function(e){a(e.target.value)}},r.a.createElement("option",{value:t.ORDER_BY_AGE},"by Age"),r.a.createElement("option",{value:t.ORDER_BY_NAME},"by Name")))}}]),t}(r.a.Component);A.defaultProps={query:""},A.ORDER_BY_AGE="age",A.ORDER_BY_NAME="name";var P=A,R=C(function(e){var t=e.shoppingCart;return r.a.createElement("div",{className:"ShoppingCart"},r.a.createElement("h4",null,"Shopping Cart"),r.a.createElement("ul",null,t.items.map(function(e){return r.a.createElement("li",{key:e.id},e.name,r.a.createElement("button",{onClick:function(){return t.removeItem(e)}},"-"))})))}),q=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={phones:[],query:"",orderBy:P.ORDER_BY_AGE},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.orderBy,a=t.query;y({orderBy:n,query:a}).then(function(t){e.setState({phones:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"PhonesPage"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2","data-element":"sidebar"},r.a.createElement("section",null,r.a.createElement("h3",null,this.context.items.length," items in Basket"),r.a.createElement(P,{query:this.state.query,orderBy:this.state.orderBy,onQueryChanged:function(t){e.setState({query:t},function(){return e.loadPhones()})},onOrderChanged:function(t){e.setState({orderBy:t},function(){return e.loadPhones()})}})),r.a.createElement("section",null,r.a.createElement(R,null))),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{"data-component":"pagination1"}),r.a.createElement("div",{"data-component":"pagination2"}),r.a.createElement(I,{phones:this.state.phones,baseUrl:this.props.match.path}))))}}]),t}(r.a.Component);q.contextType=j;var S=q,D=(n(32),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{style:{padding:10}},r.a.createElement("ul",{className:"nav nav-pills"},r.a.createElement("li",{role:"presentation"},r.a.createElement(l.a,{to:"/"},"Home")),r.a.createElement("li",{role:"presentation"},r.a.createElement(l.a,{to:"/phones"},"Phones")))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(s.a,null,r.a.createElement(i.a,{exact:!0,path:"/",render:function(){return r.a.createElement("h1",null,"Home Page")}}),r.a.createElement(i.a,{path:"/phones/:phoneId",component:B}),r.a.createElement(i.a,{path:"/phones",component:S}))))}),U=n(36);o.a.render(r.a.createElement(U.a,{basename:"/fs_on_dec18-phones-react"},r.a.createElement(N,null,r.a.createElement(D,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.714b0133.chunk.js.map